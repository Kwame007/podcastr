<div class="confession-list">
  <div class="confession-item">
    <div class="left">
      <div class="emoji"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle-more-icon lucide-message-circle-more"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/></svg></div>
      <div class="message">
        <p class="text">{{ confession.message }}</p>
        <p class="meta">
          <span class="category">{{ confession.category }}</span> 
          <span class="emotion">{{ confession.emotion }}</span> 
          <span class="date">{{ confession.created_at | date: 'MMM d, y' }}</span>
        </p>
      </div>
    </div>
    <div class="right">
      <span
        class="status"
        [class.approved]="confession.is_approved"
        [class.unapproved]="!confession.is_approved"
      >
        {{ confession.is_approved ? 'Approved' : 'Pending' }}
      </span>
      <label *ngIf="isAdmin" class="switch">
        <input type="checkbox" [checked]="confession.is_approved" (change)="onToggleApproval()">
        <span class="slider round"></span>
      </label>
      <button *ngIf="isAdmin" class="delete-btn" (click)="onDeleteClicked()" title="Delete">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
      </button>
    </div>
  </div>
</div>